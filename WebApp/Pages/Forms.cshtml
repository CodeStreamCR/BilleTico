@page
@model WebApp.Pages.FormsModel
@{
    ViewData["Title"] = "Formularios - BilleTico";
}

<div class="container-fluid">
    <div class="row">
        <!-- SIDEBAR -->
        <nav class="col-md-3 col-lg-2 d-md-block sidebar" style="background-color: #00205B; min-height: 100vh;">
            <div class="position-sticky pt-3">
                <!-- LOGO -->
                <div class="d-flex align-items-center mb-4 ps-3">
                    <div class="logo-icon me-2" style="width: 32px; height: 32px; background: linear-gradient(135deg, #FFC72C, #007A3D); border-radius: 6px; display: flex; align-items: center; justify-content: center; color: #00205B; font-weight: bold;">
                        BT
                    </div>
                    <span class="text-white fw-bold fs-5">BilleTico</span>
                </div>

                <!-- NAVIGATION MENU -->
                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link text-white-50" href="#" style="border-left: 3px solid transparent; padding-left: 1rem;">
                            <i class="fas fa-home me-2"></i>
                            Inicio
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white-50" href="#" style="border-left: 3px solid transparent; padding-left: 1rem;">
                            <i class="fas fa-file-alt me-2"></i>
                            Pagos
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white-50" href="#" style="border-left: 3px solid transparent; padding-left: 1rem;">
                            <i class="fas fa-credit-card me-2"></i>
                            Cuentas Bancarias
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white-50" href="#" style="border-left: 3px solid transparent; padding-left: 1rem;">
                            <i class="fas fa-store me-2"></i>
                            Comercios
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white-50" href="#" style="border-left: 3px solid transparent; padding-left: 1rem;">
                            <i class="fas fa-university me-2"></i>
                            Entidades Bancarias
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="/Formularios" style="background-color: rgba(255, 199, 44, 0.2); color: #FFC72C !important; border-left: 3px solid #FFC72C; padding-left: 1rem; font-weight: 600;">
                            <i class="fas fa-wpforms me-2"></i>
                            Formularios
                        </a>
                    </li>
                </ul>

                <!-- LOGOUT -->
                <div class="position-absolute bottom-0 w-100 p-3">
                    <a href="#" class="nav-link text-white-50">
                        <i class="fas fa-sign-out-alt me-2"></i>
                        Cerrar Sesión
                    </a>
                </div>
            </div>
        </nav>

        <!-- MAIN CONTENT -->
        <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4" style="background-color: #D9D9D9; min-height: 100vh;">
            <!-- HEADER -->
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom bg-white px-3 rounded shadow-sm">
                <h1 class="h2" style="color: #00205B; font-weight: 600;">Formularios</h1>
                <div class="btn-toolbar mb-2 mb-md-0">
                    <a href="#" class="btn btn-outline-danger btn-sm">
                        <i class="fas fa-sign-out-alt me-1"></i>
                        Cerrar Sesión
                    </a>
                </div>
            </div>

            <!-- FORMS CONTENT -->
            <div class="row">
                <!-- ENTIDAD FINANCIERA FORM -->
                <div class="col-lg-6 mb-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-header text-center" style="background-color: #00205B; color: white;">
                            <h4 class="mb-0">Entidad Financiera</h4>
                        </div>
                        <div class="card-body">
                            <!-- SUCCESS MESSAGE -->
                            <div id="successMessage" class="alert alert-success d-none" role="alert">
                                <i class="fas fa-check-circle me-2"></i>
                                Su solicitud ha sido recibida correctamente y está pendiente de aprobación.
                            </div>

                            <!-- ERROR MESSAGE -->
                            <div id="errorMessage" class="alert alert-danger d-none" role="alert">
                                <i class="fas fa-exclamation-triangle me-2"></i>
                                <span id="errorText"></span>
                            </div>

                            <form id="financialEntityForm">
                                <!-- CEDULA JURIDICA -->
                                <div class="mb-3">
                                    <label for="legalId" class="form-label fw-bold" style="color: #212529;">
                                        Cédula Jurídica <span class="text-danger">*</span>
                                    </label>
                                    <input type="text" 
                                           class="form-control" 
                                           id="legalId" 
                                           name="legalId"
                                           placeholder="999-999-999"
                                           maxlength="12"
                                           style="border: 2px solid #D9D9D9;">
                                    <div class="invalid-feedback"></div>
                                </div>

                                <!-- CODIGO BANCARIO -->
                                <div class="mb-3">
                                    <label for="bankCode" class="form-label fw-bold" style="color: #212529;">
                                        Código Bancario <span class="text-danger">*</span>
                                    </label>
                                    <input type="text" 
                                           class="form-control" 
                                           id="bankCode" 
                                           name="bankCode"
                                           placeholder="99999-99999"
                                           maxlength="10"
                                           style="border: 2px solid #D9D9D9;">
                                    <div class="invalid-feedback"></div>
                                </div>

                                <!-- NOMBRE -->
                                <div class="mb-3">
                                    <label for="name" class="form-label fw-bold" style="color: #212529;">
                                        Nombre <span class="text-danger">*</span>
                                    </label>
                                    <input type="text" 
                                           class="form-control" 
                                           id="name" 
                                           name="name"
                                           placeholder="999-999-999"
                                           maxlength="100"
                                           style="border: 2px solid #D9D9D9;">
                                    <div class="invalid-feedback"></div>
                                </div>

                                <!-- TELEFONO -->
                                <div class="mb-3">
                                    <label for="phone" class="form-label fw-bold" style="color: #212529;">
                                        Teléfono <span class="text-danger">*</span>
                                    </label>
                                    <input type="tel" 
                                           class="form-control" 
                                           id="phone" 
                                           name="phone"
                                           placeholder="99999-99999"
                                           maxlength="8"
                                           style="border: 2px solid #D9D9D9;">
                                    <div class="invalid-feedback"></div>
                                </div>

                                <!-- EMAIL -->
                                <div class="mb-3">
                                    <label for="email" class="form-label fw-bold" style="color: #212529;">
                                        Email <span class="text-danger">*</span>
                                    </label>
                                    <input type="email" 
                                           class="form-control" 
                                           id="email" 
                                           name="email"
                                           placeholder="email@gmail.com"
                                           style="border: 2px solid #D9D9D9;">
                                    <div class="invalid-feedback"></div>
                                </div>

                                <!-- UBICACION -->
                                <div class="mb-3">
                                    <label class="form-label fw-bold" style="color: #212529;">
                                        Ubicación <span class="text-danger">*</span>
                                    </label>
                                    <div class="map-container" 
                                         id="mapContainer" 
                                         onclick="OpenLocationPicker()"
                                         style="height: 200px; border: 2px solid #D9D9D9; border-radius: 8px; background: #f8f9fa; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                                        <div class="text-center text-muted">
                                            <i class="fas fa-map-marker-alt fa-3x mb-2" style="color: #DA291C;"></i>
                                            <div>Haga clic para seleccionar ubicación</div>
                                            <small>Seleccione la ubicación de su oficina principal</small>
                                        </div>
                                    </div>
                                    
                                    <div id="coordinatesDisplay" class="mt-2 p-2 bg-light rounded d-none">
                                        <div class="row">
                                            <div class="col-6">
                                                <small class="text-muted">Latitud:</small>
                                                <div class="fw-bold" id="latitudeDisplay">-</div>
                                            </div>
                                            <div class="col-6">
                                                <small class="text-muted">Longitud:</small>
                                                <div class="fw-bold" id="longitudeDisplay">-</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <input type="hidden" id="latitude" name="latitude">
                                    <input type="hidden" id="longitude" name="longitude">
                                    <div class="invalid-feedback"></div>
                                </div>

                                <!-- BUTTONS -->
                                <div class="d-grid gap-2">
                                    <button type="submit" 
                                            class="btn btn-lg fw-bold" 
                                            style="background-color: #007A3D; color: white; border-radius: 8px;"
                                            id="submitBtn">
                                        <i class="fas fa-paper-plane me-2"></i>
                                        Enviar Formulario
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- COMERCIO PLACEHOLDER -->
                <div class="col-lg-6 mb-4">
                    <div class="card shadow-sm h-100">
                        <div class="card-header text-center" style="background-color: #565F69; color: white;">
                            <h4 class="mb-0">Comercio</h4>
                        </div>
                        <div class="card-body d-flex align-items-center justify-content-center">
                            <div class="text-center text-muted">
                                <i class="fas fa-store fa-4x mb-3"></i>
                                <h5>Próximamente</h5>
                                <p>Formulario de registro para comercios</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SOLICITUDES BUTTON -->
            <div class="text-center mt-4">
                <a href="#" class="btn btn-lg fw-bold" style="background-color: #00205B; color: white; border-radius: 8px; padding: 1rem 3rem;">
                    <i class="fas fa-list me-2"></i>
                    Solicitudes
                </a>
            </div>
        </main>
    </div>
</div>

<!-- FOOTER -->
<footer class="text-center py-3 mt-auto" style="background-color: #212529; color: white;">
    <small>© 2025 BilleTico. Todos los derechos reservados. - Desarrollado por el equipo CodeStream.</small>
</footer>

@section Scripts {
    <script src="~/js/formularios.js"></script>
}